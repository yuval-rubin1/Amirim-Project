# Overview

This directory contains the implementation of the 2007 model. It includes various versions of implementation:
1. `fitting_eta.py`: This script is used to fit the eta parameter based on experimental data. This version contains a mistake.
2. `fitting_eta_no_thresh.py`: This script is a corrected version of `fitting_eta.py`, fixing the mistake in the previous version. The output of this script is the `traditional_etas_no_thresh_{n}.csv` file, where n is the lambda_0 Hz value.
3. `simulating_36_n.py`: This is an OOP based implementation of the network. It was created for learning purposed only and should not be used for actual simulations.
4. `2007_model.py`: This is the main implementation of the 2007 model, based on the paper's equations. It also simulates a saccade in a naive way. It has a mistake in applying activations.
5. `2007_model_ReLU_EP.py`: This version implements the NBS equations for the 2007 model with correct activation.
6. `2007_model_stoch.py`: This version introduces stochasticity into the model, allowing for random spiking of neurons. Doesn't enable repeated neurons or thinning. It also enables running the simulation various times with different seeds.
7. `2007_model_stoch_multi_n.py`: This version allows to run stochastic simulations with repeated neurons and thinning. This is the final version and the one used for the analysis in the project. It also includes code for fitting a linear regression to the MSD curve to extract the diffusion coefficient.
8. `2007_for_cluster.py`: This version is optimized for running on a computing cluster. It loads parameters (saved by simulating_36_n.py) from a pickle file and saves results (MSD plots, MSD arrays) in a specified directory. It will run each seed separately, allowing for parallel execution on a cluster.
9. `utils.py`: This file contains the `Utils` class, which provides utility functions for loading parameters, saving results, and other common tasks used across different scripts. The class will dispose the eta, xi and r0 to a pickle file when the `utils.py` file is run as a script.

# Data Files

1. The `slopes_thresholds.csv` file contains parameters extracted by NBS from the 2007 model regarding tuning curves. The order of the columns is: xi, r0, thresholds. It is a csv version of the `slopes_thresholds.mat` file provided by NBS.
2. `utils_params.pkl`: This pickle file contains parameters for the 2007 model, generated by the `simulating_36_n.py` script. It includes parameters such as neuron positions, weights, and other necessary configurations for running the model. It is designed to run on cluster.

# Usage
To run the main stochastic model with multiple neurons and thinning, use the following command:

```bash
python 2007_model_stoch_multi_n.py
```

This will execute the simulation and output the diffusion coefficient along with other statistics. You can modify parameters such as `num_seeds`, `repeat_neurons`, `sim_seconds`, and `M` (thinning factor) directly in the script to suit your needs.